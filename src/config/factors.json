{
  "version": "1.0.0",
  "currencyDefault": "EUR",
  "currencies": {
    "EUR": { "symbol": "€", "fxToEUR": 1 },
    "USD": { "symbol": "$", "fxToEUR": 0.92 },
    "GBP": { "symbol": "£", "fxToEUR": 1.17 }
  },

  "countries": [
    {
      "code": "NL",
      "name": "Netherlands",
      "currency": "EUR",
      "baseRates": {
        "design": 75, "frontend": 85, "backend": 95, "fullstack": 90,
        "pm": 80, "qa": 60, "seo": 70, "devops": 95, "content": 55
      },
      "tax": { "vatIncluded": false, "vatPercent": 21 }
    },
    {
      "code": "FR",
      "name": "France",
      "currency": "EUR",
      "baseRates": {
        "design": 70, "frontend": 80, "backend": 90, "fullstack": 85,
        "pm": 75, "qa": 55, "seo": 65, "devops": 90, "content": 50
      },
      "tax": { "vatIncluded": false, "vatPercent": 20 }
    },
    {
      "code": "US",
      "name": "United States",
      "currency": "USD",
      "baseRates": {
        "design": 110, "frontend": 125, "backend": 140, "fullstack": 130,
        "pm": 120, "qa": 85, "seo": 100, "devops": 145, "content": 80
      },
      "tax": { "vatIncluded": false, "vatPercent": 0 }
    }
  ],

  "globalOverheads": {
    "pmPercentOfBuild": 0.12,
    "qaPercentOfBuild": 0.08,
    "contingencyRiskBands": { "low": 0.05, "medium": 0.12, "high": 0.22 },
    "maintenance": { "warrantyWeeks": 4, "retainerMonthlyPercent": 0.08 }
  },

  "levers": [
    {
      "id": "project_type",
      "label": "Project Type",
      "type": "select",
      "options": [
        { "value": "brochure", "label": "Brochure/Marketing" },
        { "value": "ecommerce", "label": "E-commerce" },
        { "value": "webapp", "label": "Web App / SaaS" }
      ],
      "default": "brochure"
    },
    {
      "id": "brand_design",
      "label": "Brand & Visual Design",
      "type": "select",
      "options": [
        { "value": "none", "label": "Existing brand (no design)", "hours.design": 0 },
        { "value": "light", "label": "Light UI polish", "hours.design": 14 },
        { "value": "full", "label": "Full design system", "hours.design": 50 }
      ],
      "default": "light"
    },
    {
      "id": "pages_unique",
      "label": "Unique Page Templates",
      "type": "number",
      "unit": "templates",
      "min": 1, "max": 50, "default": 6,
      "hoursPerUnit": { "design": 2.5, "frontend": 3.5, "qa": 0.7 }
    },
    {
      "id": "pages_reused_count",
      "label": "Reusable Pages (content instances)",
      "type": "number",
      "unit": "pages",
      "min": 0, "max": 1000, "default": 20,
      "hoursPerBatch": { "batchSize": 10, "content": 2, "qa": 0.5 }
    },
    {
      "id": "i18n_locales",
      "label": "Languages",
      "type": "number",
      "min": 1, "max": 12, "default": 1,
      "hoursBase": { "frontend": 6, "backend": 6 },
      "hoursPerExtraLocale": { "frontend": 2.5, "backend": 2.5, "content": 4, "qa": 1.5 }
    },
    {
      "id": "animations",
      "label": "Animations & Interactions",
      "type": "select",
      "options": [
        { "value": "minimal", "label": "Basic transitions", "hours.frontend": 4 },
        { "value": "moderate", "label": "Hero + section reveals", "hours.frontend": 16 },
        { "value": "complex", "label": "Rich micro-interactions / 3D", "hours.frontend": 36 }
      ],
      "default": "moderate"
    },
    {
      "id": "seo_package",
      "label": "SEO",
      "type": "select",
      "options": [
        { "value": "tech_onpage", "label": "Technical + on-page setup", "hours.seo": 14 },
        { "value": "tech_keyword", "label": "Technical + keyword mapping", "hours.seo": 28 },
        { "value": "full", "label": "Full SEO incl. content plan", "hours.seo": 48 }
      ],
      "default": "tech_onpage"
    },
    {
      "id": "content_state",
      "label": "Content Readiness",
      "type": "select",
      "options": [
        { "value": "ready", "label": "All content provided", "multiplier.content": 0.6 },
        { "value": "partial", "label": "Partial (requires edits)", "multiplier.content": 1 },
        { "value": "copy_needed", "label": "Copywriting needed", "hours.content": 24 }
      ],
      "default": "partial"
    },
    {
      "id": "cms_choice",
      "label": "CMS",
      "type": "select",
      "options": [
        { "value": "none", "label": "No CMS", "multiplier.backend": 0.9 },
        { "value": "wordpress", "label": "WordPress", "hours.backend": 12 },
        { "value": "sanity", "label": "Sanity (Headless)", "hours.backend": 24 },
        { "value": "shopify", "label": "Shopify (Headless optional)", "hours.backend": 26 }
      ],
      "default": "sanity"
    },
    {
      "id": "social_media",
      "label": "Social Media (Sharing & Embeds)",
      "type": "multiselect",
      "options": [
        { "value": "sharing_meta", "label": "Sharing meta (OG/Twitter)", "hours.frontend": 2, "hours.seo": 1 },
        { "value": "embeds", "label": "Embeds (YouTube/Instagram)", "hours.frontend": 3, "hours.qa": 1 },
        { "value": "feed", "label": "Dynamic feed", "hours.backend": 6, "hours.frontend": 4, "hours.qa": 2 }
      ],
      "maxSelected": 3
    },
    {
      "id": "integrations",
      "label": "3rd-Party Integrations",
      "type": "multiselect",
      "options": [
        { "value": "analytics", "label": "GA4 + Consent", "hours.backend": 3, "hours.frontend": 4 },
        { "value": "crm", "label": "CRM (HubSpot/Salesforce)", "hours.backend": 12, "hours.frontend": 4 },
        { "value": "emailing", "label": "Email (Brevo/Mailchimp)", "hours.backend": 6, "hours.frontend": 3 },
        { "value": "payments", "label": "Payments (Stripe/etc.)", "hours.backend": 10, "hours.frontend": 6 },
        { "value": "search", "label": "Site Search (Algolia/Meilisearch)", "hours.backend": 10, "hours.frontend": 6 },
        { "value": "pim", "label": "PIM/ERP connector", "hours.backend": 24, "hours.frontend": 6 }
      ],
      "maxSelected": 5
    },
    {
      "id": "performance_target",
      "label": "Performance Target (Core Web Vitals)",
      "type": "select",
      "options": [
        { "value": "basic", "label": "Reasonable defaults", "multiplier.frontend": 1, "multiplier.devops": 1 },
        { "value": "good", "label": "Lighthouse ~85+", "multiplier.frontend": 1.15, "hours.devops": 6 },
        { "value": "excellent", "label": "Lighthouse 95+ / CWV green", "multiplier.frontend": 1.35, "hours.devops": 12 }
      ],
      "default": "good"
    },
    {
      "id": "accessibility",
      "label": "Accessibility (WCAG)",
      "type": "select",
      "options": [
        { "value": "aa_partial", "label": "AA (pragmatic)", "hours.qa": 10, "hours.frontend": 10 },
        { "value": "aa_full", "label": "AA (full audit + fixes)", "hours.qa": 28, "hours.frontend": 24 },
        { "value": "aaa", "label": "AAA (targeted areas)", "hours.qa": 36, "hours.frontend": 30 }
      ],
      "default": "aa_partial"
    },
    {
      "id": "hosting_stack",
      "label": "Hosting/Stack",
      "type": "select",
      "options": [
        { "value": "vercel_static", "label": "Static/SSR on Vercel", "hours.devops": 6 },
        { "value": "node_server", "label": "Node server (Docker)", "hours.devops": 14 },
        { "value": "kubernetes", "label": "K8s/Autoscale", "hours.devops": 28 }
      ],
      "default": "vercel_static"
    },
    {
      "id": "security_hardening",
      "label": "Security & Compliance",
      "type": "select",
      "options": [
        { "value": "standard", "label": "Best practices", "hours.devops": 6 },
        { "value": "enhanced", "label": "WAF, rate-limit, scans", "hours.devops": 16 }
      ],
      "default": "standard"
    },
    {
      "id": "testing_scope",
      "label": "Testing Scope",
      "type": "multiselect",
      "options": [
        { "value": "browsers", "label": "Cross-browser matrix", "hours.qa": 10 },
        { "value": "devices", "label": "Responsive device set", "hours.qa": 8 },
        { "value": "automation", "label": "Basic E2E automation", "hours.qa": 18, "hours.devops": 6 }
      ]
    },
    {
      "id": "handover_docs",
      "label": "Handover & Docs",
      "type": "select",
      "options": [
        { "value": "readme", "label": "README + Looms", "hours.pm": 6 },
        { "value": "playbook", "label": "Ops playbook + training", "hours.pm": 16 }
      ],
      "default": "readme"
    },
    {
      "id": "timeline_pressure",
      "label": "Timeline Pressure",
      "type": "select",
      "options": [
        { "value": "normal", "label": "Normal" },
        { "value": "rush10", "label": "Rush (+10%)", "multiplier.all": 1.1 },
        { "value": "rush20", "label": "Rush (+20%)", "multiplier.all": 1.2 }
      ],
      "default": "normal"
    },
    {
      "id": "risk_level",
      "label": "Risk Level",
      "type": "select",
      "options": [
        { "value": "low", "label": "Low" },
        { "value": "medium", "label": "Medium" },
        { "value": "high", "label": "High" }
      ],
      "default": "medium"
    },

    {
      "id": "ecom_depth",
      "label": "E-commerce Scope",
      "type": "select",
      "visibleWhen": [{ "id": "project_type", "equals": "ecommerce" }],
      "options": [
        { "value": "lite", "label": "Payments only (few SKUs)", "hours.backend": 18, "hours.frontend": 14 },
        { "value": "standard", "label": "Catalog + cart + taxes + shipping", "hours.backend": 55, "hours.frontend": 40 },
        { "value": "advanced", "label": "Variants, promos, subscriptions", "hours.backend": 95, "hours.frontend": 70 }
      ],
      "default": "standard"
    },
    {
      "id": "sku_count",
      "label": "Number of Products",
      "type": "number",
      "min": 0, "max": 20000, "default": 100,
      "visibleWhen": [{ "id": "project_type", "equals": "ecommerce" }],
      "hoursPerBatch": { "batchSize": 50, "content": 3, "qa": 1 }
    },
    {
      "id": "payments_providers",
      "label": "Payment Providers",
      "type": "multiselect",
      "visibleWhen": [{ "id": "project_type", "equals": "ecommerce" }],
      "options": [
        { "value": "stripe", "label": "Stripe", "hours.backend": 10, "hours.frontend": 6 },
        { "value": "adyen", "label": "Adyen", "hours.backend": 14, "hours.frontend": 6 },
        { "value": "paypal", "label": "PayPal", "hours.backend": 8, "hours.frontend": 4 },
        { "value": "applepay", "label": "Apple Pay", "hours.backend": 4, "hours.frontend": 2 }
      ],
      "maxSelected": 3
    },
    {
      "id": "tax_shipping_complexity",
      "label": "Taxes & Shipping Complexity",
      "type": "select",
      "visibleWhen": [{ "id": "project_type", "equals": "ecommerce" }],
      "options": [
        { "value": "basic", "label": "Basic rules (few regions)", "hours.backend": 6, "hours.qa": 2 },
        { "value": "standard", "label": "Multiple regions/rates", "hours.backend": 14, "hours.qa": 4 },
        { "value": "advanced", "label": "Complex rules/promos", "hours.backend": 28, "hours.qa": 8 }
      ],
      "default": "standard"
    },
    {
      "id": "subscriptions",
      "label": "Subscriptions/Billing",
      "type": "select",
      "visibleWhen": [{ "id": "project_type", "equals": "ecommerce" }],
      "options": [
        { "value": "no", "label": "No", "hours.backend": 0, "hours.frontend": 0 },
        { "value": "yes", "label": "Yes", "hours.backend": 16, "hours.frontend": 6, "hours.qa": 6 }
      ],
      "default": "no"
    },
    {
      "id": "variants_promos",
      "label": "Variants & Promotions",
      "type": "select",
      "visibleWhen": [{ "id": "project_type", "equals": "ecommerce" }],
      "options": [
        { "value": "no", "label": "No", "hours.backend": 0, "hours.frontend": 0 },
        { "value": "yes", "label": "Yes", "hours.backend": 12, "hours.frontend": 10, "hours.qa": 4 }
      ],
      "default": "no"
    },
    {
      "id": "inventory_sync",
      "label": "Inventory/ERP/PIM Sync",
      "type": "select",
      "visibleWhen": [{ "id": "project_type", "equals": "ecommerce" }],
      "options": [
        { "value": "no", "label": "No", "hours.backend": 0 },
        { "value": "yes", "label": "Yes", "hours.backend": 24, "hours.devops": 8, "hours.qa": 6 }
      ],
      "default": "no"
    },

    {
      "id": "migration",
      "label": "Content Migration",
      "type": "select",
      "options": [
        { "value": "none", "label": "No legacy content", "hours.content": 0 },
        { "value": "semi_auto", "label": "Semi-automated import", "hours.content": 16, "hours.backend": 8 },
        { "value": "manual", "label": "Manual migration", "hours.content": 32 }
      ],
      "default": "none"
    },
    {
      "id": "content_creation_pages",
      "label": "Pages Requiring Copywriting",
      "type": "number",
      "min": 0, "max": 500, "default": 0,
      "hoursPerUnit": { "content": 1.5, "seo": 0.5 }
    },
    {
      "id": "assets_to_process",
      "label": "Image/Asset Processing (count)",
      "type": "number",
      "min": 0, "max": 5000, "default": 50,
      "hoursPerBatch": { "batchSize": 50, "content": 2, "qa": 0.5 }
    },
    {
      "id": "blog_enabled",
      "label": "Blog/News Enabled",
      "type": "select",
      "options": [
        { "value": "no", "label": "No" },
        { "value": "yes", "label": "Yes", "hours.design": 2, "hours.frontend": 4, "hours.backend": 3, "hours.qa": 1 }
      ],
      "default": "yes"
    },
    {
      "id": "posts_to_migrate",
      "label": "Legacy Posts to Migrate",
      "type": "number",
      "min": 0, "max": 5000, "default": 0,
      "visibleWhen": [{ "id": "blog_enabled", "equals": "yes" }],
      "hoursPerBatch": { "batchSize": 20, "content": 3, "backend": 1, "qa": 1 }
    },
    {
      "id": "translation_method",
      "label": "Translation Method",
      "type": "select",
      "options": [
        { "value": "client_provided", "label": "Client-provided", "multiplier.content": 1 },
        { "value": "human_agency", "label": "Human agency", "multiplier.content": 0.8, "hours.pm": 2 },
        { "value": "ai_postedit", "label": "AI + post-edit", "multiplier.content": 0.7, "hours.qa": 4 }
      ],
      "default": "client_provided"
    },
    {
      "id": "rtl_support",
      "label": "RTL Support",
      "type": "select",
      "options": [
        { "value": "no", "label": "No" },
        { "value": "yes", "label": "Yes", "hours.frontend": 6, "hours.qa": 4 }
      ],
      "default": "no"
    },

    {
      "id": "forms_simple",
      "label": "Simple Forms (contact/newsletter)",
      "type": "select",
      "options": [
        { "value": "no", "label": "No" },
        { "value": "yes", "label": "Yes", "hours.backend": 2, "hours.frontend": 2, "hours.qa": 1 }
      ],
      "default": "yes"
    },
    {
      "id": "forms_complex",
      "label": "Complex/Multi-step Forms",
      "type": "number",
      "min": 0, "max": 20, "default": 0,
      "hoursPerUnit": { "frontend": 6, "backend": 8, "qa": 2 }
    },
    {
      "id": "captcha",
      "label": "Bot Protection (reCAPTCHA/hCaptcha)",
      "type": "select",
      "options": [
        { "value": "no", "label": "No" },
        { "value": "yes", "label": "Yes", "hours.backend": 1, "hours.frontend": 1, "hours.qa": 0.5 }
      ],
      "default": "yes"
    },
    {
      "id": "crm_automation",
      "label": "CRM Automation (workflows)",
      "type": "select",
      "options": [
        { "value": "no", "label": "No" },
        { "value": "yes", "label": "Yes", "hours.backend": 8, "hours.qa": 2, "hours.pm": 2 }
      ],
      "default": "no"
    },

    {
      "id": "analytics_depth",
      "label": "Analytics Depth",
      "type": "select",
      "options": [
        { "value": "basic_ga4", "label": "Basic GA4", "hours.backend": 2, "hours.frontend": 2 },
        { "value": "ga4_events", "label": "GA4 + Key Events", "hours.backend": 6, "hours.frontend": 4 },
        { "value": "ga4_gtm_matrix", "label": "GA4 via GTM Matrix", "hours.backend": 12, "hours.frontend": 8, "hours.qa": 4 }
      ],
      "default": "basic_ga4"
    },
    {
      "id": "consent_banner",
      "label": "Cookie/Consent Banner (GDPR)",
      "type": "select",
      "options": [
        { "value": "no", "label": "No" },
        { "value": "yes", "label": "Yes", "hours.frontend": 3, "hours.backend": 2, "hours.qa": 1 }
      ],
      "default": "yes"
    },
    {
      "id": "legal_pages",
      "label": "Legal Pages",
      "type": "multiselect",
      "options": [
        { "value": "privacy", "label": "Privacy Policy", "hours.content": 1, "hours.frontend": 0.5, "hours.qa": 0.3 },
        { "value": "tos", "label": "Terms of Service", "hours.content": 1, "hours.frontend": 0.5, "hours.qa": 0.3 },
        { "value": "cookies", "label": "Cookies Page", "hours.content": 1, "hours.frontend": 0.5, "hours.qa": 0.3 },
        { "value": "impressum", "label": "Impressum", "hours.content": 1, "hours.frontend": 0.5, "hours.qa": 0.3 }
      ],
      "maxSelected": 4
    },
    {
      "id": "pii_minimization",
      "label": "PII Minimization Review",
      "type": "select",
      "options": [
        { "value": "no", "label": "No" },
        { "value": "yes", "label": "Yes", "hours.pm": 2, "hours.backend": 2 }
      ],
      "default": "no"
    },

    {
      "id": "uptime_sla",
      "label": "Uptime/SLA Target",
      "type": "select",
      "options": [
        { "value": "best_effort", "label": "Best effort" },
        { "value": "99.5", "label": "99.5%", "hours.devops": 6 },
        { "value": "99.9", "label": "99.9%", "hours.devops": 14 }
      ],
      "default": "best_effort"
    },
    {
      "id": "monitoring",
      "label": "Monitoring/Alerts",
      "type": "select",
      "options": [
        { "value": "light", "label": "Light", "hours.devops": 2 },
        { "value": "standard", "label": "Standard", "hours.devops": 6 },
        { "value": "enhanced", "label": "Enhanced", "hours.devops": 12 }
      ],
      "default": "light"
    },
    {
      "id": "backups",
      "label": "Backups & Retention",
      "type": "select",
      "options": [
        { "value": "light", "label": "Light", "hours.devops": 2 },
        { "value": "standard", "label": "Standard", "hours.devops": 4 },
        { "value": "enhanced", "label": "Enhanced", "hours.devops": 8 }
      ],
      "default": "standard"
    },
    {
      "id": "cdn_cache",
      "label": "CDN & Caching Strategy",
      "type": "select",
      "options": [
        { "value": "default", "label": "Defaults" },
        { "value": "aggressive", "label": "Aggressive cache", "hours.devops": 3 },
        { "value": "custom_rules", "label": "Custom rules", "hours.devops": 8, "hours.frontend": 2 }
      ],
      "default": "default"
    },

    {
      "id": "collaboration",
      "label": "Collaboration Model",
      "type": "select",
      "options": [
        { "value": "solo", "label": "Solo", "multiplier.pm": 0.9 },
        { "value": "small_team", "label": "Small team", "multiplier.pm": 1.0 },
        { "value": "client_team", "label": "Client + team", "multiplier.pm": 1.2 }
      ],
      "default": "small_team"
    },
    {
      "id": "trainings",
      "label": "Training Sessions (count)",
      "type": "number",
      "min": 0, "max": 20, "default": 1,
      "hoursPerUnit": { "pm": 1.5 }
    },
    {
      "id": "maintenance_retainer",
      "label": "Maintenance Retainer",
      "type": "select",
      "options": [
        { "value": "no", "label": "No" },
        { "value": "yes", "label": "Yes (monthly, shown separately)" }
      ],
      "default": "no"
    },

    {
      "id": "stack_framework",
      "label": "Frontend Framework",
      "type": "select",
      "options": [
        { "value": "next", "label": "Next.js", "hours.devops": 2 },
        { "value": "react_spa", "label": "React SPA", "hours.frontend": 8, "hours.backend": 4, "hours.devops": 4 },
        { "value": "wordpress_theme", "label": "WordPress Theme", "hours.backend": 8, "hours.devops": 2 }
      ],
      "default": "next"
    },
    {
      "id": "api_style",
      "label": "API Style",
      "type": "select",
      "options": [
        { "value": "rest", "label": "REST" },
        { "value": "graphql", "label": "GraphQL", "hours.backend": 8, "hours.devops": 2 },
        { "value": "mixed", "label": "Mixed", "hours.backend": 10, "hours.devops": 3 }
      ],
      "default": "rest"
    },
    {
      "id": "test_coverage",
      "label": "Test Coverage Goal",
      "type": "select",
      "options": [
        { "value": "smoke", "label": "Smoke tests", "hours.qa": 6 },
        { "value": "critical_paths", "label": "Critical paths", "hours.qa": 12, "hours.devops": 4 },
        { "value": "broader", "label": "Broader coverage", "hours.qa": 24, "hours.devops": 6 }
      ],
      "default": "critical_paths"
    },
    {
      "id": "ci_cd",
      "label": "CI/CD Complexity",
      "type": "select",
      "options": [
        { "value": "light", "label": "Light", "hours.devops": 4 },
        { "value": "standard", "label": "Standard", "hours.devops": 8 },
        { "value": "enhanced", "label": "Enhanced", "hours.devops": 16 }
      ],
      "default": "standard"
    }
  ],

  "dependencies": [
    {
      "if": { "id": "cms_choice", "equals": "none" },
      "then": { "hide": ["migration"], "adjust": [{ "id": "content_state", "set": "ready" }] }
    }
  ],

  "outputConfig": {
    "showBands": ["P50", "P80"],
    "rounding": { "currency": 0, "hours": 1 },
    "includeAssumptions": true,
    "includeExclusions": true
  },

  "assumptions": [
    "Client provides brand assets unless 'Brand & Visual Design' is 'full'.",
    "Content is final unless 'Content Readiness' indicates copywriting or edits.",
    "One round of revisions per unique template is included.",
    "No legacy browser support beyond last 2 major versions."
  ],
  "exclusions": [
    "Stock photography/licensing fees.",
    "3rd-party subscription costs (CMS, search, WAF, etc.).",
    "Ongoing SEO link-building and PR.",
    "Custom native mobile apps."
  ]
}
